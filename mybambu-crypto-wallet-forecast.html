<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBambu Crypto Wallet - Kira Provider Forecast Model</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #00052E 0%, #001845 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 50px;
        }

        .logo-text {
            font-size: 48px;
            font-weight: 800;
            color: white;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .logo-icon {
            width: 55px;
            height: 55px;
            background: #27FB6B;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: 800;
            color: white;
        }

        .subtitle {
            font-size: 20px;
            color: #27FB6B;
            font-weight: 600;
            margin-top: 10px;
        }

        .provider-badge {
            display: inline-block;
            background: linear-gradient(135deg, #C71585 0%, #9B1068 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 15px;
        }

        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(39, 251, 107, 0.3);
            padding: 12px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab:hover {
            background: rgba(39, 251, 107, 0.1);
            border-color: #27FB6B;
        }

        .tab.active {
            background: #27FB6B;
            color: #00052E;
            border-color: #27FB6B;
        }

        .content {
            display: none;
        }

        .content.active {
            display: block;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .card-title {
            font-size: 28px;
            font-weight: 700;
            color: #00052E;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .tier-icon {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }

        .tier-starter { background: #4FC3F7; }
        .tier-growth { background: #27FB6B; }
        .tier-enterprise { background: #C71585; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th {
            background: linear-gradient(135deg, #00052E 0%, #001845 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            color: #2d3748;
        }

        tr:hover {
            background: rgba(39, 251, 107, 0.05);
        }

        .price-cell {
            font-weight: 700;
            color: #27FB6B;
        }

        .highlight {
            background: rgba(39, 251, 107, 0.1);
            font-weight: 700;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-top: 30px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .summary-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #27FB6B;
        }

        .summary-label {
            font-size: 13px;
            color: #718096;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .summary-value {
            font-size: 32px;
            font-weight: 800;
            color: #00052E;
        }

        .summary-subtext {
            font-size: 13px;
            color: #4a5568;
            margin-top: 5px;
        }

        .assumptions {
            background: rgba(1, 207, 251, 0.1);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #01CFFB;
            margin-top: 20px;
        }

        .assumptions h4 {
            color: #00052E;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .assumptions ul {
            margin-left: 20px;
            color: #4a5568;
        }

        .assumptions li {
            margin-bottom: 6px;
            font-size: 14px;
        }

        .tier-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .tier-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            border: 3px solid;
            transition: transform 0.3s ease;
        }

        .tier-card:hover {
            transform: translateY(-5px);
        }

        .tier-card.starter { border-color: #4FC3F7; }
        .tier-card.growth { border-color: #27FB6B; }
        .tier-card.enterprise { border-color: #C71585; }

        .tier-header {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .tier-price {
            font-size: 36px;
            font-weight: 800;
            color: #27FB6B;
            margin-bottom: 5px;
        }

        .tier-period {
            font-size: 14px;
            color: #718096;
            margin-bottom: 20px;
        }

        .tier-features {
            list-style: none;
            margin-top: 20px;
        }

        .tier-features li {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
            font-size: 14px;
            color: #4a5568;
        }

        .tier-features li:before {
            content: "✓";
            color: #27FB6B;
            font-weight: bold;
            margin-right: 10px;
        }

        @media (max-width: 768px) {
            .logo-text {
                font-size: 32px;
            }

            .card {
                padding: 25px;
            }

            .chart-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-text">
                <div class="logo-icon">B</div>
                MyBambu Crypto Wallet
            </div>
            <div class="subtitle">Financial Forecast & Provider Comparison</div>
            <div class="provider-badge">Powered by Kira</div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">Overview</button>
            <button class="tab" onclick="showTab('pricing')">Pricing Tiers</button>
            <button class="tab" onclick="showTab('revenue')">Revenue Forecast</button>
            <button class="tab" onclick="showTab('costs')">Cost Analysis</button>
            <button class="tab" onclick="showTab('roi')">ROI Projections</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="content active">
            <div class="card">
                <h2 class="card-title">Provider Overview: Kira</h2>
                <p style="color: #4a5568; line-height: 1.8; margin-bottom: 20px;">
                    <strong>Kira</strong> is the first all-in-one infrastructure to launch embedded fintech products,
                    supercharged by vertical AI agents and stablecoins. This partnership enables MyBambu to offer
                    crypto wallet functionality with seamless on/off ramp capabilities across Latin America.
                </p>

                <div class="tier-comparison">
                    <div class="tier-card starter">
                        <div class="tier-header" style="color: #4FC3F7;">Starter</div>
                        <div class="tier-price">$0</div>
                        <div class="tier-period">Monthly minimum fee</div>
                        <ul class="tier-features">
                            <li>Best for: Testing & pilot programs</li>
                            <li>Pay-as-you-go transaction fees</li>
                            <li>Basic support (1 business day)</li>
                            <li>USDT/C to USD: 0.40%</li>
                            <li>USDT/C to MXN: 0.40%</li>
                            <li>USD to USDT/C: 0.25%</li>
                        </ul>
                    </div>

                    <div class="tier-card growth">
                        <div class="tier-header" style="color: #27FB6B;">Growth</div>
                        <div class="tier-price">$9,995</div>
                        <div class="tier-period">Monthly minimum fee</div>
                        <ul class="tier-features">
                            <li>Best for: Scaling operations</li>
                            <li>99.9% monthly uptime SLA</li>
                            <li>Priority support (1-2 hour response)</li>
                            <li>USDT/C to USD: 0.25%</li>
                            <li>USDT/C to MXN: 0.25%</li>
                            <li>USD to USDT/C: 0.20%</li>
                        </ul>
                    </div>

                    <div class="tier-card enterprise">
                        <div class="tier-header" style="color: #C71585;">Enterprise</div>
                        <div class="tier-price">$29,995</div>
                        <div class="tier-period">Monthly minimum fee</div>
                        <ul class="tier-features">
                            <li>Best for: High-volume operations</li>
                            <li>24/7 dedicated support</li>
                            <li>Dedicated account manager</li>
                            <li>USDT/C to USD: 0.13%</li>
                            <li>USDT/C to MXN: 0.15%</li>
                            <li>USD to USDT/C: 0.15%</li>
                        </ul>
                    </div>
                </div>

                <div class="assumptions">
                    <h4>Key Features & Capabilities</h4>
                    <ul>
                        <li><strong>On-Ramp:</strong> Convert USD/MXN to USDT/USDC</li>
                        <li><strong>Off-Ramp:</strong> Convert USDT/USDC to USD, MXN, COP, and 15+ currencies</li>
                        <li><strong>Virtual USD Accounts:</strong> FBO accounts with Wire/ACH capabilities</li>
                        <li><strong>Stablecoin Support:</strong> USDT and USDC across multiple blockchains</li>
                        <li><strong>API Integration:</strong> RESTful API for seamless integration</li>
                        <li><strong>Compliance:</strong> Built-in KYC/AML with $4/user onboarding cost</li>
                        <li><strong>Settlement:</strong> Real-time settlement in stablecoins or fiat</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Pricing Tab -->
        <div id="pricing" class="content">
            <div class="card">
                <h2 class="card-title">
                    <span class="tier-icon tier-starter"></span>
                    <span class="tier-icon tier-growth"></span>
                    <span class="tier-icon tier-enterprise"></span>
                    Pricing Comparison by Tier
                </h2>

                <h3 style="color: #00052E; font-size: 20px; margin-top: 30px; margin-bottom: 15px;">OFF-RAMP Fees (Send Crypto → Receive Fiat)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Send Currency</th>
                            <th>Receive Currency</th>
                            <th>Starter</th>
                            <th>Growth</th>
                            <th>Enterprise</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight">
                            <td><strong>USDT/C</strong></td>
                            <td><strong>USD</strong></td>
                            <td class="price-cell">0.40%</td>
                            <td class="price-cell">0.25%</td>
                            <td class="price-cell">0.13%</td>
                        </tr>
                        <tr class="highlight">
                            <td><strong>USDT/C</strong></td>
                            <td><strong>MXN</strong></td>
                            <td class="price-cell">0.40%</td>
                            <td class="price-cell">0.25%</td>
                            <td class="price-cell">0.15%</td>
                        </tr>
                        <tr>
                            <td>USDT/C</td>
                            <td>COP</td>
                            <td class="price-cell">0.85%</td>
                            <td class="price-cell">0.70%</td>
                            <td class="price-cell">0.60%</td>
                        </tr>
                        <tr>
                            <td>USD</td>
                            <td>COP</td>
                            <td class="price-cell">0.65%</td>
                            <td class="price-cell">0.50%</td>
                            <td class="price-cell">0.40%</td>
                        </tr>
                        <tr>
                            <td>USD</td>
                            <td>MXN, CLP, GTQ, VES</td>
                            <td class="price-cell">0.50%</td>
                            <td class="price-cell">0.35%</td>
                            <td class="price-cell">0.25%</td>
                        </tr>
                        <tr>
                            <td>COP</td>
                            <td>USD</td>
                            <td class="price-cell">0.30%</td>
                            <td class="price-cell">0.15%</td>
                            <td class="price-cell">0.03%</td>
                        </tr>
                        <tr>
                            <td>MXN</td>
                            <td>USD</td>
                            <td class="price-cell">0.30%</td>
                            <td class="price-cell">0.15%</td>
                            <td class="price-cell">0.05%</td>
                        </tr>
                        <tr>
                            <td>USD</td>
                            <td>Uruguay, El Salvador, Peru, Brasil, Europe, Panama</td>
                            <td class="price-cell">0.85%</td>
                            <td class="price-cell">0.70%</td>
                            <td class="price-cell">0.60%</td>
                        </tr>
                        <tr>
                            <td>USD</td>
                            <td>Costa Rica, Paraguay, Dom. Rep., Argentina</td>
                            <td class="price-cell">1.50%</td>
                            <td class="price-cell">1.35%</td>
                            <td class="price-cell">1.15%</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="color: #00052E; font-size: 20px; margin-top: 40px; margin-bottom: 15px;">ON-RAMP Fees (Send Fiat → Receive Crypto)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Send Currency</th>
                            <th>Receive Currency</th>
                            <th>Starter</th>
                            <th>Growth</th>
                            <th>Enterprise</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight">
                            <td><strong>USD</strong></td>
                            <td><strong>USDT/C</strong></td>
                            <td class="price-cell">0.25%</td>
                            <td class="price-cell">0.20%</td>
                            <td class="price-cell">0.15%</td>
                        </tr>
                        <tr class="highlight">
                            <td><strong>MXN</strong></td>
                            <td><strong>USDT/C</strong></td>
                            <td class="price-cell">0.25%</td>
                            <td class="price-cell">0.20%</td>
                            <td class="price-cell">0.15%</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="color: #00052E; font-size: 20px; margin-top: 40px; margin-bottom: 15px;">Virtual USD Accounts (FBO Wire/ACH)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Fee Type</th>
                            <th>Starter</th>
                            <th>Growth</th>
                            <th>Enterprise</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Transaction Fee</td>
                            <td class="price-cell">0.20%</td>
                            <td class="price-cell">0.12%</td>
                            <td class="price-cell">0.08%</td>
                        </tr>
                        <tr>
                            <td>KYC/KYB - Individual</td>
                            <td class="price-cell">$4</td>
                            <td class="price-cell">$4</td>
                            <td class="price-cell">$4</td>
                        </tr>
                        <tr>
                            <td>KYC/KYB - Entity</td>
                            <td class="price-cell">$35</td>
                            <td class="price-cell">$35</td>
                            <td class="price-cell">$35</td>
                        </tr>
                        <tr>
                            <td>Monthly Account Fee - Individual</td>
                            <td class="price-cell">$4</td>
                            <td class="price-cell">$4</td>
                            <td class="price-cell">$4</td>
                        </tr>
                        <tr>
                            <td>Monthly Account Fee - Entity</td>
                            <td class="price-cell">$25</td>
                            <td class="price-cell">$25</td>
                            <td class="price-cell">$25</td>
                        </tr>
                    </tbody>
                </table>

                <div class="assumptions">
                    <h4>Pricing Notes</h4>
                    <ul>
                        <li>Monthly minimum fee is paid upfront and can be consumed through transaction fees</li>
                        <li>If usage exceeds monthly minimum, no additional base fees apply</li>
                        <li>If usage is below minimum, the difference is invoiced</li>
                        <li>Prices shown are for API integrations only</li>
                        <li>Wallet-based on/off ramp may have different pricing</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Revenue Forecast Tab -->
        <div id="revenue" class="content">
            <div class="card">
                <h2 class="card-title">Revenue Forecast (12-Month Projection)</h2>

                <div class="summary-grid">
                    <div class="summary-card">
                        <div class="summary-label">Year 1 Revenue</div>
                        <div class="summary-value" id="totalRevenue">$0</div>
                        <div class="summary-subtext">Total crypto wallet revenue</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Avg Monthly Revenue</div>
                        <div class="summary-value" id="avgMonthlyRevenue">$0</div>
                        <div class="summary-subtext">Q4 average: <span id="q4Avg">$0</span></div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Active Crypto Users</div>
                        <div class="summary-value" id="activeUsers">0</div>
                        <div class="summary-subtext">By end of Year 1</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Total Volume</div>
                        <div class="summary-value" id="totalVolume">$0</div>
                        <div class="summary-subtext">Crypto transaction volume</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>

                <div class="assumptions">
                    <h4>Revenue Model Assumptions</h4>
                    <ul>
                        <li><strong>Starting Users:</strong> 1,000 crypto wallet users in Month 1</li>
                        <li><strong>Growth Rate:</strong> 15% monthly user growth</li>
                        <li><strong>Transaction Frequency:</strong> 2.5 transactions per user per month</li>
                        <li><strong>Average Transaction Size:</strong> $250</li>
                        <li><strong>Mix:</strong> 60% Off-ramp (USDT→USD), 40% On-ramp (USD→USDT)</li>
                        <li><strong>Fee Rate:</strong> 0.25% average blended rate (Growth tier)</li>
                        <li><strong>Revenue Per User:</strong> ~$1.56/month average</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Cost Analysis Tab -->
        <div id="costs" class="content">
            <div class="card">
                <h2 class="card-title">Cost Analysis (12-Month Projection)</h2>

                <div class="summary-grid">
                    <div class="summary-card">
                        <div class="summary-label">Year 1 Total Costs</div>
                        <div class="summary-value" id="totalCosts">$0</div>
                        <div class="summary-subtext">All crypto wallet costs</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Monthly Platform Fee</div>
                        <div class="summary-value">$9,995</div>
                        <div class="summary-subtext">Kira Growth tier minimum</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">KYC Costs (Y1)</div>
                        <div class="summary-value" id="kycCosts">$0</div>
                        <div class="summary-subtext">$4 per user onboarding</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Net Margin</div>
                        <div class="summary-value" id="netMargin">0%</div>
                        <div class="summary-subtext">After all costs</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="costsChart"></canvas>
                </div>

                <h3 style="color: #00052E; font-size: 20px; margin-top: 40px; margin-bottom: 15px;">Monthly Cost Breakdown</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th>Platform Fee</th>
                            <th>KYC Costs</th>
                            <th>Account Fees</th>
                            <th>Total Costs</th>
                            <th>Revenue</th>
                            <th>Net Profit</th>
                        </tr>
                    </thead>
                    <tbody id="costTable">
                    </tbody>
                </table>

                <div class="assumptions">
                    <h4>Cost Model Assumptions</h4>
                    <ul>
                        <li><strong>Platform Tier:</strong> Growth tier at $9,995/month (recommended for scaling)</li>
                        <li><strong>KYC Costs:</strong> $4 per new user (one-time)</li>
                        <li><strong>Account Fees:</strong> $4/month per active virtual USD account holder (estimated 30% adoption)</li>
                        <li><strong>Customer Support:</strong> Included in platform fee (99.9% uptime, 1-2 hour response)</li>
                        <li><strong>Infrastructure:</strong> All infrastructure and compliance included in platform fee</li>
                        <li><strong>Transaction Fees:</strong> Offset against monthly minimum (no additional cost until $9,995 consumed)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ROI Tab -->
        <div id="roi" class="content">
            <div class="card">
                <h2 class="card-title">ROI Projections & Break-Even Analysis</h2>

                <div class="summary-grid">
                    <div class="summary-card">
                        <div class="summary-label">Break-Even Month</div>
                        <div class="summary-value" id="breakEvenMonth">Month 0</div>
                        <div class="summary-subtext">When revenue exceeds costs</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Year 1 Net Profit</div>
                        <div class="summary-value" id="netProfit">$0</div>
                        <div class="summary-subtext">After all expenses</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">ROI %</div>
                        <div class="summary-value" id="roiPercent">0%</div>
                        <div class="summary-subtext">Return on investment</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Payback Period</div>
                        <div class="summary-value" id="paybackPeriod">0 mo</div>
                        <div class="summary-subtext">Time to recover investment</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="roiChart"></canvas>
                </div>

                <h3 style="color: #00052E; font-size: 20px; margin-top: 40px; margin-bottom: 15px;">Scenario Analysis</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Scenario</th>
                            <th>User Growth</th>
                            <th>Avg Transaction</th>
                            <th>Year 1 Revenue</th>
                            <th>Year 1 Net Profit</th>
                            <th>Break-Even</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background: rgba(255, 193, 7, 0.1);">
                            <td><strong>Conservative</strong></td>
                            <td>10% monthly</td>
                            <td>$200</td>
                            <td id="conservativeRevenue">$0</td>
                            <td id="conservativeProfit">$0</td>
                            <td id="conservativeBE">Month 0</td>
                        </tr>
                        <tr class="highlight" style="background: rgba(39, 251, 107, 0.1);">
                            <td><strong>Base Case</strong></td>
                            <td>15% monthly</td>
                            <td>$250</td>
                            <td id="baseRevenue">$0</td>
                            <td id="baseProfit">$0</td>
                            <td id="baseBE">Month 0</td>
                        </tr>
                        <tr style="background: rgba(76, 175, 80, 0.1);">
                            <td><strong>Optimistic</strong></td>
                            <td>20% monthly</td>
                            <td>$300</td>
                            <td id="optimisticRevenue">$0</td>
                            <td id="optimisticProfit">$0</td>
                            <td id="optimisticBE">Month 0</td>
                        </tr>
                    </tbody>
                </table>

                <div class="assumptions">
                    <h4>Strategic Considerations</h4>
                    <ul>
                        <li><strong>Market Opportunity:</strong> Latin America crypto adoption growing 40% YoY</li>
                        <li><strong>Competitive Advantage:</strong> Integrated into existing MyBambu app (no customer acquisition cost)</li>
                        <li><strong>Cross-Sell:</strong> Crypto wallet users have 3x higher engagement with other products</li>
                        <li><strong>Remittance Use Case:</strong> Lower fees vs traditional remittances (0.25% vs 5-7%)</li>
                        <li><strong>Stablecoin Stability:</strong> USDT/USDC provide inflation hedge for LATAM users</li>
                        <li><strong>Tier Upgrade Path:</strong> Can upgrade to Enterprise tier when volume justifies it</li>
                        <li><strong>Revenue Synergies:</strong> Crypto users more likely to use Bambu Pay, cards, and other services</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data Models
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

        // Base case assumptions
        const INITIAL_USERS = 1000;
        const MONTHLY_GROWTH_RATE = 0.15;
        const TRANSACTIONS_PER_USER = 2.5;
        const AVG_TRANSACTION_SIZE = 250;
        const BLENDED_FEE_RATE = 0.0025; // 0.25%
        const PLATFORM_FEE = 9995;
        const KYC_COST_PER_USER = 4;
        const MONTHLY_ACCOUNT_FEE = 4;
        const VIRTUAL_ACCOUNT_ADOPTION = 0.30;

        function calculateForecast(growthRate, avgTransaction) {
            let users = INITIAL_USERS;
            let cumulativeUsers = users;
            let totalRevenue = 0;
            let totalCosts = 0;
            let totalKYCCosts = 0;

            const monthlyData = [];

            for (let i = 0; i < 12; i++) {
                const newUsers = i === 0 ? users : Math.round(users * growthRate);
                users += newUsers;
                cumulativeUsers = users;

                const monthlyVolume = users * TRANSACTIONS_PER_USER * avgTransaction;
                const monthlyRevenue = monthlyVolume * BLENDED_FEE_RATE;
                const monthlyKYC = newUsers * KYC_COST_PER_USER;
                const accountFees = Math.round(users * VIRTUAL_ACCOUNT_ADOPTION) * MONTHLY_ACCOUNT_FEE;
                const monthlyCosts = PLATFORM_FEE + monthlyKYC + accountFees;
                const netProfit = monthlyRevenue - monthlyCosts;

                totalRevenue += monthlyRevenue;
                totalCosts += monthlyCosts;
                totalKYCCosts += monthlyKYC;

                monthlyData.push({
                    month: i + 1,
                    users: cumulativeUsers,
                    newUsers: newUsers,
                    volume: monthlyVolume,
                    revenue: monthlyRevenue,
                    platformFee: PLATFORM_FEE,
                    kycCosts: monthlyKYC,
                    accountFees: accountFees,
                    totalCosts: monthlyCosts,
                    netProfit: netProfit,
                    cumulativeProfit: i === 0 ? netProfit : monthlyData[i-1].cumulativeProfit + netProfit
                });
            }

            return {
                monthlyData,
                totalRevenue,
                totalCosts,
                totalKYCCosts,
                finalUsers: cumulativeUsers,
                totalVolume: monthlyData.reduce((sum, m) => sum + m.volume, 0)
            };
        }

        // Calculate all scenarios
        const baseCase = calculateForecast(MONTHLY_GROWTH_RATE, AVG_TRANSACTION_SIZE);
        const conservative = calculateForecast(0.10, 200);
        const optimistic = calculateForecast(0.20, 300);

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Format currency
        function formatCurrency(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(value);
        }

        function formatNumber(value) {
            return new Intl.NumberFormat('en-US').format(value);
        }

        // Update Revenue Tab
        function updateRevenueTab() {
            document.getElementById('totalRevenue').textContent = formatCurrency(baseCase.totalRevenue);
            document.getElementById('avgMonthlyRevenue').textContent = formatCurrency(baseCase.totalRevenue / 12);
            document.getElementById('q4Avg').textContent = formatCurrency(
                (baseCase.monthlyData[9].revenue + baseCase.monthlyData[10].revenue + baseCase.monthlyData[11].revenue) / 3
            );
            document.getElementById('activeUsers').textContent = formatNumber(baseCase.finalUsers);
            document.getElementById('totalVolume').textContent = formatCurrency(baseCase.totalVolume);

            // Revenue Chart
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Monthly Revenue',
                        data: baseCase.monthlyData.map(m => m.revenue),
                        borderColor: '#27FB6B',
                        backgroundColor: 'rgba(39, 251, 107, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Active Users',
                        data: baseCase.monthlyData.map(m => m.users),
                        borderColor: '#01CFFB',
                        backgroundColor: 'rgba(1, 207, 251, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.dataset.label === 'Monthly Revenue') {
                                        return 'Revenue: ' + formatCurrency(context.parsed.y);
                                    } else {
                                        return 'Users: ' + formatNumber(context.parsed.y);
                                    }
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Revenue ($)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return formatCurrency(value);
                                }
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Active Users'
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    }
                }
            });
        }

        // Update Costs Tab
        function updateCostsTab() {
            const netProfit = baseCase.totalRevenue - baseCase.totalCosts;
            const netMargin = ((netProfit / baseCase.totalRevenue) * 100).toFixed(1);

            document.getElementById('totalCosts').textContent = formatCurrency(baseCase.totalCosts);
            document.getElementById('kycCosts').textContent = formatCurrency(baseCase.totalKYCCosts);
            document.getElementById('netMargin').textContent = netMargin + '%';

            // Costs Chart
            const ctx = document.getElementById('costsChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Revenue',
                        data: baseCase.monthlyData.map(m => m.revenue),
                        backgroundColor: 'rgba(39, 251, 107, 0.7)',
                        borderColor: '#27FB6B',
                        borderWidth: 2
                    }, {
                        label: 'Costs',
                        data: baseCase.monthlyData.map(m => m.totalCosts),
                        backgroundColor: 'rgba(220, 53, 69, 0.7)',
                        borderColor: '#dc3545',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + formatCurrency(context.parsed.y);
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                callback: function(value) {
                                    return formatCurrency(value);
                                }
                            }
                        }
                    }
                }
            });

            // Cost Table
            const costTableBody = document.getElementById('costTable');
            baseCase.monthlyData.forEach((m, i) => {
                const row = document.createElement('tr');
                if (m.netProfit >= 0) {
                    row.style.background = 'rgba(39, 251, 107, 0.05)';
                }
                row.innerHTML = `
                    <td><strong>${months[i]}</strong></td>
                    <td>${formatCurrency(m.platformFee)}</td>
                    <td>${formatCurrency(m.kycCosts)}</td>
                    <td>${formatCurrency(m.accountFees)}</td>
                    <td><strong>${formatCurrency(m.totalCosts)}</strong></td>
                    <td>${formatCurrency(m.revenue)}</td>
                    <td style="color: ${m.netProfit >= 0 ? '#27FB6B' : '#dc3545'}; font-weight: 700;">
                        ${formatCurrency(m.netProfit)}
                    </td>
                `;
                costTableBody.appendChild(row);
            });
        }

        // Update ROI Tab
        function updateROITab() {
            const netProfit = baseCase.totalRevenue - baseCase.totalCosts;
            const roi = ((netProfit / baseCase.totalCosts) * 100).toFixed(1);

            // Find break-even month
            let breakEvenMonth = 'N/A';
            for (let i = 0; i < baseCase.monthlyData.length; i++) {
                if (baseCase.monthlyData[i].cumulativeProfit >= 0) {
                    breakEvenMonth = `Month ${i + 1}`;
                    break;
                }
            }

            document.getElementById('breakEvenMonth').textContent = breakEvenMonth;
            document.getElementById('netProfit').textContent = formatCurrency(netProfit);
            document.getElementById('roiPercent').textContent = roi + '%';
            document.getElementById('paybackPeriod').textContent = breakEvenMonth === 'N/A' ? '>12 mo' : breakEvenMonth.replace('Month ', '') + ' mo';

            // ROI Chart
            const ctx = document.getElementById('roiChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Cumulative Profit',
                        data: baseCase.monthlyData.map(m => m.cumulativeProfit),
                        borderColor: '#27FB6B',
                        backgroundColor: 'rgba(39, 251, 107, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return 'Cumulative: ' + formatCurrency(context.parsed.y);
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                callback: function(value) {
                                    return formatCurrency(value);
                                }
                            }
                        }
                    }
                }
            });

            // Scenario Analysis
            function updateScenario(prefix, data) {
                const profit = data.totalRevenue - data.totalCosts;
                let be = 'N/A';
                for (let i = 0; i < data.monthlyData.length; i++) {
                    if (data.monthlyData[i].cumulativeProfit >= 0) {
                        be = `Month ${i + 1}`;
                        break;
                    }
                }
                document.getElementById(prefix + 'Revenue').textContent = formatCurrency(data.totalRevenue);
                document.getElementById(prefix + 'Profit').textContent = formatCurrency(profit);
                document.getElementById(prefix + 'BE').textContent = be;
            }

            updateScenario('conservative', conservative);
            updateScenario('base', baseCase);
            updateScenario('optimistic', optimistic);
        }

        // Initialize all tabs
        updateRevenueTab();
        updateCostsTab();
        updateROITab();
    </script>
</body>
</html>
